<h1>Add a bar</h1>

<form action="" method="POST" enctype="multipart/form-data">
<p><label for="genre">Select bar type:</label>
<select name="genre">
  <option value="Rooftop-Bar">Rooftop Bar</option>
  <option value="Sports-Bar">Sports Bar</option>
  <option value="Club-Bar">Club Bar</option>
  <option value="Hotel-Bar">Hotel Bar</option>
  <option value="Cocktail-Bar">Cocktail Bar</option>
  <option value="Plastic-Bar">Plastic Bar</option>
</select>
</p>
<label for="place-name">Name:</label>
<input type="text" name="name" placeholder="Bar Name"></input>
<label for="place-address">Address:</label>
<input type="text" name="address" placeholder="Address"></input>
<label for="place-image">Add an image:</label>
<input type="file" id="input-image" name="image" placeholder="Image"></input>
<label for="rating-input">Rating:</label>
<input type="number" name="rating" placeholder="Bar Rating"></input>
<label for="cost-input">Cost:</label>
<input type="number" name="cost" placeholder="Average cost per drink"></input>
<label for="latitude-input">Latitude:</label>
<input type="text" name="latitude" placeholder="Input Latitude"></input>
<label for="longitude-input">Longitude:</label>
<input type="text" name="longitude" placeholder="Input Longitude"></input>
<label for="description-input">Description:</label>
<textarea id="w3review" name="description" rows="4" cols="50" placeholder="Add a short description for your bar."></textarea>
<p style= "text-align: center"><button>Add place</button></p>
</form>

<script>
  function init () {
    const mapContainerElement = document.getElementById('map-container');
    const map = new window.google.maps.Map(mapContainerElement, {
      center: {
        lat: 38.75,
        lng: -9.15
      },
      zoom: 11
    });
    let marker;
    const latitudeInputElement = document.getElementById('latitude-input');
    const longitudeInputElement = document.getElementById('longitude-input');
    map.addListener('click', event => {
      const latitude = event.latLng.lat();
      const longitude = event.latLng.lng();
      if (marker) {
        marker.setMap(null);
      }
      marker = new window.google.maps.Marker({
        map,
        position: {
          lat: latitude,
          lng: longitude
        }
      });
      latitudeInputElement.value = latitude;
      longitudeInputElement.value = longitude;
    });
  }
</script>

{{!-- {{> mapscript}} --}}